# -*- makefile -*- for Test
#
# Created: 5/8/97 using MakeConfigs 5.01.00.a.09
#
# $Id$
#
# (see end of file for Log info)

#
# Do not modifiy 'makefile_type'
makefile_type = prog
# This is the make.cfg version that will be used
make_cfg_ver	= 5.01
# Default target type
make_target	= default
# Uncomment 'show_commands' to output compile command.
# Comment out proto_dep (or set to any value but true) to prevent
#     regen of proto header
show_commands = # true
proto_dep       = true

# Include standard MakeConfig configuration for GNU make required
include Make/make.cfg.$(make_cfg_ver)

# 
# =USE_CURRENT_MAKEFILE=
# When you re-gen a make file, every thing between 
# these tags will be kept int the new makefile
# if you want it re-gen'd, just delete the tags
#

NAME		= Test

INSTALL_BINDIR	= $(LOCAL_BIN_DIR)

VER_MAJOR	= 1
VER_MINOR	= 00
VER_RELEASE	= 00.a.01
VERSION		= $(VER_MAJOR).$(VER_MINOR).$(VER_RELEASE)

PROGRAM_DEFAULT	= $(NAME)
PROGRAM_DEBUG	= $(NAME)_g
PROGRAM_PROFILE	= $(NAME)_pg
PROGRAM_STATIC	= $(NAME)_static


PRJ_TOPDIR	= ../../..

# include any arch specific makefile component
-include $(PRJ_TOPDIR)/src/arch/$(arch)/Makefile.$(NAME)

VPATH		= $(ARCH_VPATH):.

###### D E F I N E S  #####
# 
# Config defines avalable
#
#


SRC_DEFINES	= 
PRJ_DEFINES	= -DVERSION=\"$(VERSION)\" $(ARCH_DEFINES)

DEFAULT_DEFINES = -DTEST_DEFAULT=1
DEBUG_DEFINES	= -DTEST_DEBUG=1 -DMDB_DEBUG=1 -DRDB_TEST=1 -DCLUE_DEBUG=1
PROFILE_DEFINES	= -DTEST_PROFILE=1
STATIC_DEFINES	= -DTEST_STATIC=1

######  I N C L U D E S #####
#
# Config includes available (need to use -I)
#
# $(alpha_incdir) 	$(beta_incdir) 	$(local_incdir)
#


SRC_INC		= $(ARCH_INC) -I. 
PRJ_INC		= $($($(make_target))_PRJ_INC) -I$(beta_incdir)

DEFAULT_PRJ_INC	= 
DEBUG_PRJ_INC	= $(MDB_SRC_INC)
PROFILE_PRJ_INC = $(MDB_SRC_INC)
STATIC_PRJ_INC	= 

# Any other cpp flags to use on for all targets

CPP_FLAGS		= $(ARCH_CPP_FLAGS)

###### C O M P I L E / C P P #####
#
# Config flags available
#
# $(cc_optimize) $(cxx_optimize)
# $(cc_debug)	 $(cxx_debug)
# $(cc_profile)	 $(cxx_profile)
# $(cc_warn)	 $(cxx_warn)
#


CC_FLAGS		= $(cc_warn_all) $(ARCH_CC_FLAGS)

DEFAULT_CC_FLAGS	= $(cc_optimize)
DEBUG_CC_FLAGS		= $(cc_debug)
PROFILE_CC_FLAGS	= $(cc_profile)
STATIC_CC_FLAGS		= $(cc_optimize)

CXX_FLAGS		= $(arch_cxx_flags) $(cxx_warn_all)

DEFAULT_CXX_FLAGS	= $(cxx_optimize)
DEBUG_CXX_FLAGS		= $(cxx_debug)
PROFILE_CXX_FLAGS	= $(cxx_profile)
STATIC_CXX_FLAGS	= $(cxx_optimize)

# ##### I N S T A L L #####

INSTALL_BIN_FLAGS	= 

# ##### L I N K  /  L I B R A R I E S #####
#
# Config flags available
#
# $(ld_optimize)
# $(ld_debug)
# $(ld_profile)
# $(ld_static)
#
# Config library directories available (need to use -L)
#
# $(alpha_libdir)	$(beta_libdir)	$(local_libdir)
#


LD_FLAGS		= $(ARCH_LD_FLAGS)

DEFAULT_LD_FLAGS	= $(ld_optimize)
DEBUG_LD_FLAGS		= $(ld_debug)
PROFILE_LD_FLAGS	= $(ld_profile)
STATIC_LD_FLAGS		= $(ld_static) $(ld_optimize)

DEFAULT_LD_LIBDIRS	= -L$(beta_libdir)
DEBUG_LD_LIBDIRS	= $(MDB_SRC_LDIR) $(DEFAULT_LD_LIBDIRS)
PRIFLE_LD_LIBDIRS	= $(DEFAULT_LD_LIBDIRS)
STATIC_LD_LIBDIRS	= $(DEFAULT_LD_LIBDIRS)

DEFAULT_LD_LIBS		= 
DEBUG_LD_LIBS		= -lMdb_g -lClue_g -lCommon_g -lGnuRegex \
			  -lm $(ARCH_DEBUG_LD_LIBS)
PROFILE_LD_LIBS		= $(DEFAULT_LD_LIBS)
STATIC_LD_LIBS		= $(DEFAULT_LD_LIBS)

# DEP_LIBS - rebuild target if DEP_LIBS newer than target

DEFAULT_DEP_LIBS	=
DEBUG_DEP_LIBS		= $(PRJ_TOPDIR)/src/Mdb/libMdb_g.a
PROFILE_DEP_LIBS	=
STATIC_DEP_LIBS		=

#
# =USE_CURRENT_MAKEFILE=
#

# **** S O U R C E   F I L E S ****

CXX_C_SOURCES	=			\
	main.C				\
	TestAvlTreeOffset.C		\
	tMapFile.C			\
	tMapFile01.C			\
	tMapFile02.C			\
	tMapFile03.C			\
	tMapMemDynamicFixed.C		\
	tMapMemDynamicFixed01.C		\
	tMapMemDynamicDynamic.C		\
	tMapMemDynamicDynamic01.C	\
	tMapMemDynamicDynamic02.C	\
	tAvlTreeOffset.C		\
	tAvlTreeOffset01.C		\
	tAvlTreeOffset02.C		\
	tDavlTreeOffset.C		\
	tDavlTreeOffset01.C		\
	tHashTable.C			\
	tHashTable01.C			\
	tHashSet.C			\
	tHashSet01.C			\
	tDashSet.C			\
	tDashSet01.C			\
	tRBTree.C			\
	tRBTree01.C			\
	tRBTree02.C			\
	tRBTree03.C			\
	tRBSet.C			\
	tDRBTree.C			\
	tDRBTree01.C			\
	tDRBTree02.C			\
	tDRBTree03.C			\
	tDRBTree04.C			\
	$(ARCH_CXX_C_SOURCES)           \


USER_INCLUDES	=		\
	$(USER_H_INCS)		\
	$(USER_HH_INCS)		\
	$(USER_II_INCS)		\



###### T A R G E T S #####
#
# Targets defined in make.cfg.targets.
#
# default: 	all
# depend:	create .depend_default
# profile:	MAKE CCDEBUG=CC_PROFILE all
# proto:	create $(PROTO_H)
# clean:  	rm -f LIB_OBJECTS LIBRARY
# realclean:	rm -f LIB_OBJECTS LIBRARY .depend.lib PROTO_H TAGS
# tags:		create TAGS using etags
#


include Make/make.cfg.targets.$(makefile_type).$(make_cfg_ver)

default debug profile:: proto

default:: $(PROGRAM_DEFAULT)

debug prifle static::
	$(hide) $(MAKE) make_target=$@ $(PROGRAM_$($@))

all::	default debug profile

install:: default $(INSTALL_DIR)/$(PROGRAM_DEFAULT)


test:	default

#
# include dependancies generated by 'make depend'
#
-include .depend_$(make_target)

#
# =MAKEFILE_LOG=
#
# $Log$
# Revision 1.8  1997/07/25 13:49:21  houghton
# Changed: Dash was renamed to DashSet.
# Changed: Hash was renamed to HashSet.
#
# Revision 1.7  1997/07/22 19:45:40  houghton
# Added Dash test.
#
# Revision 1.6  1997/07/19 10:35:21  houghton
# Moved define TEST_DATA_DIR to TestConfigs.hh.
#
# Revision 1.5  1997/07/16 16:38:20  houghton
# Added MapFile & DRBTree tests.
#
# Revision 1.4  1997/07/14 10:44:20  houghton
# Added ARCH_DEBUG_LD_LIBS to DEBUG_LD_LIBS.
#
# Revision 1.3  1997/07/13 11:35:00  houghton
# Added many test.
#
# Revision 1.2  1997/06/27 12:15:59  houghton
# Added tMapMemDynamicDynamic.
#
# Revision 1.1  1997/06/05 11:30:11  houghton
# Initial Version.
#
#
# =MAKEFILE_LOG=
#



